## **문자열 연산**

문자열 연산에는 여러 연산자가 존재한다. 

- 문자열 결합
  - +, CONCAT, ||

ex) **'ABC' + '1234' = 'ABC1234'**

문자열 결합 연산자에는 데이터베이스 제품마다 방언이 잇으며 다음과 같은 차이를 가진다.

- '+' : SQL Server
- || : Oracle , DB2, PostgreSQL
- CONCAT : MySQL

문자열 결합은 2개의 열 데이터를 모아서 1개의 열로 처리하고 싶은 경우에 자주 사용된다.

#### **예제**

```mysql
mysql> select * from sample35;
+------+-------+----------+------+
| no   | price | quantity | unit |
+------+-------+----------+------+
|    1 |   100 |       10 | 개   |
|    2 |   230 |       24 | 통   |
|    3 |  1980 |        1 | 장   |
+------+-------+----------+------+
```

위 샘플을 quantity와 unit을 결합하고 싶을때는 다음과 같이 사용할 수 있다.

```mysql
mysql> select concat(quantity,unit) from sample35;
+-----------------------+
| concat(quantity,unit) |
+-----------------------+
| 10개                  |
| 24통                  |
| 1장                   |
+-----------------------+
```

sample35의 unit열은 문자열이고 quantity는 수치형이지만 문제없이 결합이 가능한 것을 알게되었다. 단 문자열과 결합한 수치형 데이터는 결과 문자열 데이터가 된다.

------

### **SUBSTRING** 함수

SUBSTRING함수는 문자열의 일부분만 계산해서 반환해주는 함수이다. 예를들어 연월일을 **YYYYMMDD** 와 같은 형식으로 저장했을 때 해당 날짜데이터를 년,월,일 로 따로 추출해주고 싶은 상황에서 사용할 수 있는 함수이다.

예제

```mysql
mysql> select substring('123456789',1,5);
+----------------------------+
| substring('123456789',1,5) |
+----------------------------+
| 12345                      |
+----------------------------+
```

substring함수의 첫번째 파라미터는 문자열 두번째는 **자를 위치(1부터 시작)** 3번째 파라미터는 길이를 의미한다.

------

### **TRIM 함수**

TRIM함수는 문자열의 앞뒤로 여분의 스페이스가 존재할 경우 이를 제거해주는 함수로 문자열의 중간에 존재하는 스페이스는 제거되지 않는다.

ex) **TRIM(' ABC ') --> 'ABC'**

------

### **CHARACTER_LENGTH 함수**

문자열의 길이를 반환해주는 함수이다. CHAR형의 경우 문자열의 길이가 고정되어 있지만 VARCHAR의 경우 문자열이 가변길이를 가지기 때문에  CHARACTER_LENGTH를 사용하면 문자열의 길이를 계산할 수가 있다. 

또한 함수명은 **CHAR_LENGTH **로 줄여서 사용하는것도 가능하다.

```mysql
mysql> select CHAR_LENGTH('abcdef');
+-----------------------+
| CHAR_LENGTH('abcdef') |
+-----------------------+
|                     6 |
+-----------------------+
```

